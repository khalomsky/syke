<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SYKE — Code Impact Radar</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/three@0.170.0/build/three.min.js"></script>
  <script src="https://unpkg.com/3d-force-graph@1"></script>
</head>
<body>
  <!-- Scanline overlay -->
  <div id="scanline"></div>

  <!-- Top Bar -->
  <header id="topbar">
    <div class="logo">
      <div class="pulse-ring"><span class="pulse-dot"></span></div>
      <span class="logo-text">SYKE</span>
      <span class="logo-sub">CODE IMPACT RADAR</span>
      <span id="sse-status" class="sse-indicator offline">OFFLINE</span>
      <span id="license-badge" class="license-badge free">FREE</span>
      <button id="btn-license" class="top-btn license-btn">LICENSE</button>
      <button id="btn-ai-keys" class="top-btn ai-keys-btn">AI</button>
      <select id="ai-provider-select" title="Select AI provider">
        <option value="auto">AUTO</option>
        <option value="gemini">GEMINI</option>
        <option value="openai">OPENAI</option>
        <option value="anthropic">ANTHROPIC</option>
      </select>
      <button id="btn-ai-apply" class="top-btn ai-apply-btn">APPLY</button>
    </div>
    <div class="project-selector">
      <span id="current-project" class="project-path">Loading...</span>
      <button id="btn-change-project" class="top-btn" title="Switch project">OPEN</button>
    </div>
    <div class="top-controls">
      <button id="btn-cycles" class="top-btn" title="Detect circular dependencies">CYCLES</button>
      <button id="btn-stats" class="top-btn" title="Toggle statistics panel">STATS</button>
      <button id="btn-shortcuts" class="top-btn" title="Keyboard shortcuts (?)">?</button>
    </div>
    <div class="stats" id="stats">
      <div class="stat-block">
        <span class="stat-label">NODES</span>
        <span class="stat-value" id="stat-files">---</span>
      </div>
      <div class="stat-block">
        <span class="stat-label">LINKS</span>
        <span class="stat-value" id="stat-edges">---</span>
      </div>
      <div class="stat-block threat">
        <span class="stat-label">THREAT</span>
        <span class="stat-value" id="stat-high">---</span>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- 3D Graph Panel -->
    <section id="graph-panel">
      <div id="graph-toolbar">
        <button id="btn-reset" title="Reset view (R)">RESET</button>
        <button id="btn-auto-rotate" title="Toggle auto-rotation (A)" class="active">AUTO ROTATE</button>
        <button id="btn-path-mode" title="Find shortest path between two nodes (P)">PATH MODE</button>
        <input type="text" id="search-input" placeholder="SEARCH TARGET...">
      </div>
      <div id="3d-graph"></div>
      <!-- Welcome Overlay (shown when no project loaded) -->
      <div id="server-offline-overlay" class="welcome-overlay hidden">
        <div class="welcome-content">
          <div class="welcome-logo">
            <div class="welcome-pulse-ring offline-pulse"><span class="welcome-pulse-dot offline-dot"></span></div>
            <span class="welcome-title">SYKE</span>
          </div>
          <p class="welcome-subtitle" style="color:#ff5f57">SERVER OFFLINE</p>
          <p class="welcome-msg">MCP server is not running.<br>Start Claude Code to launch the server.</p>
          <div id="offline-retry-status" style="font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:11px;color:rgba(255,255,255,0.3);margin-top:12px">Retrying connection...</div>
        </div>
      </div>
      <div id="welcome-overlay" class="welcome-overlay hidden">
        <div class="welcome-content">
          <div class="welcome-logo">
            <div class="welcome-pulse-ring"><span class="welcome-pulse-dot"></span></div>
            <span class="welcome-title">SYKE</span>
          </div>
          <p class="welcome-subtitle">CODE IMPACT RADAR</p>
          <p class="welcome-msg">Open a project to get started</p>
          <button id="btn-welcome-open" class="welcome-open-btn">OPEN PROJECT</button>
          <div class="welcome-steps">
            <div class="welcome-step">
              <span class="step-num">1</span>
              <span class="step-text">Open Project</span>
            </div>
            <div class="welcome-step-arrow">&rarr;</div>
            <div class="welcome-step">
              <span class="step-num">2</span>
              <span class="step-text">Explore Graph</span>
            </div>
            <div class="welcome-step-arrow">&rarr;</div>
            <div class="welcome-step">
              <span class="step-num">3</span>
              <span class="step-text">Monitor Changes</span>
            </div>
          </div>
        </div>
      </div>
      <!-- HTML overlay for node labels -->
      <div id="node-labels"></div>
      <!-- Layer Legend (clickable filter) -->
      <div id="layer-legend"></div>
      <!-- Path mode indicator -->
      <div id="path-indicator" class="hidden">
        <span id="path-status">SELECT FIRST NODE</span>
        <button id="btn-cancel-path">CANCEL</button>
      </div>
      <!-- Tooltip -->
      <div id="node-tooltip" class="hidden"></div>

      <!-- Star Wars Code Crawl -->
      <div id="code-crawl">
        <div id="crawl-header">
          <span id="crawl-file-name"></span>
          <span id="crawl-status"></span>
        </div>
        <div id="crawl-viewport">
          <div id="crawl-content"></div>
        </div>
      </div>
    </section>

    <!-- Tree Resize Handle -->
    <div id="tree-resize-handle"></div>

    <!-- File Tree Panel -->
    <aside id="file-tree-panel">
      <div id="tree-header">
        <div class="tree-title-row">
          <span class="tree-title">FILE TREE</span>
          <span id="tree-file-count" class="tree-count">0</span>
        </div>
        <div id="tree-search-bar">
          <input type="text" id="tree-search-input" placeholder="FILTER FILES...">
          <button id="tree-sort-btn" class="tree-tool-btn">SORT</button>
          <div id="tree-sort-menu" class="hidden">
            <div class="tree-sort-option active" data-sort="name">BY NAME</div>
            <div class="tree-sort-option" data-sort="layer">BY LAYER</div>
            <div class="tree-sort-option" data-sort="risk">BY RISK</div>
            <div class="tree-sort-option" data-sort="deps">BY DEPS</div>
            <div class="tree-sort-option" data-sort="modified">BY RECENT</div>
          </div>
          <button id="tree-collapse-all" class="tree-tool-btn" title="Toggle expand">&#9660;</button>
        </div>
      </div>
      <div id="tree-scroll-container">
        <div id="tree-content"></div>
      </div>
    </aside>

    <!-- Resize Handle -->
    <div id="resize-handle"></div>

    <!-- Right Panel -->
    <aside id="right-panel">
      <!-- Tab bar -->
      <div id="panel-tabs">
        <button class="panel-tab active" data-tab="info">INFO</button>
        <button class="panel-tab" data-tab="code">CODE</button>
        <button class="panel-tab" data-tab="simulate">SIM</button>
        <button class="panel-tab" data-tab="live">LIVE</button>
        <button class="panel-tab" data-tab="settings">SET</button>
      </div>

      <!-- Tab: Info (default) -->
      <div id="tab-info" class="tab-content active">
        <section id="file-info">
          <h3><span class="hud-icon">&#9673;</span> TARGET INFO</h3>
          <div id="file-info-content">
            <p class="placeholder">Select a node to identify target</p>
          </div>
        </section>

        <section id="impact-list">
          <h3><span class="hud-icon">&#9888;</span> IMPACT ANALYSIS</h3>
          <div id="impact-content">
            <p class="placeholder">Select a node to trace impact chain</p>
          </div>
        </section>

        <section id="ai-panel">
          <div class="ai-header">
            <h3><span class="hud-icon">&#9883;</span> AI INTEL</h3>
            <button id="btn-ai-analyze" disabled>ANALYZE</button>
          </div>
          <div id="ai-content">
            <p class="placeholder">Select target, then request AI analysis</p>
          </div>
        </section>
      </div>

      <!-- Tab: Code preview -->
      <div id="tab-code" class="tab-content">
        <section id="code-panel">
          <h3><span class="hud-icon">&#9997;</span> SOURCE CODE</h3>
          <div id="code-content">
            <p class="placeholder">Select a node to preview source code</p>
          </div>
        </section>
      </div>

      <!-- Tab: Simulate deletion -->
      <div id="tab-simulate" class="tab-content">
        <section id="sim-panel">
          <h3><span class="hud-icon">&#9760;</span> DELETION SIMULATION</h3>
          <div id="sim-content">
            <p class="placeholder">Select a node, then switch to SIM tab</p>
          </div>
        </section>
      </div>

      <!-- Tab: Live monitoring -->
      <div id="tab-live" class="tab-content">
        <section id="live-panel">
          <h3><span class="hud-icon">&#9889;</span> REAL-TIME MONITOR</h3>
          <div id="realtime-log">
            <p class="placeholder">Waiting for file changes...</p>
          </div>
        </section>
      </div>

      <!-- Tab: Settings -->
      <div id="tab-settings" class="tab-content">
        <div class="set-panel">
          <!-- Top action bar -->
          <div class="set-actions">
            <button id="set-reset-all" class="set-action-btn set-danger">RESET ALL</button>
            <button id="set-export" class="set-action-btn">EXPORT</button>
            <button id="set-import" class="set-action-btn">IMPORT</button>
          </div>

          <div class="set-scroll">
            <!-- NODES -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> NODES <button class="set-rst-btn" data-group="nodes">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>Size Min</label><input type="range" id="set-node-sizeMin" min="5" max="100" step="1"><span class="set-val"></span></div>
              <div class="set-row"><label>Size Multiplier</label><input type="range" id="set-node-sizeMultiplier" min="0.5" max="10" step="0.1"><span class="set-val"></span></div>
              <div class="set-row"><label>Opacity</label><input type="range" id="set-node-opacity" min="0.1" max="1" step="0.05"><span class="set-val"></span></div>
              <div class="set-row"><label>Resolution</label><input type="range" id="set-node-resolution" min="4" max="32" step="2"><span class="set-val"></span></div>
              <div class="set-row"><label>Selected Color</label><input type="color" id="set-node-selectedColor"><span class="set-val"></span></div>
            </div>

            <!-- LINKS -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> LINKS <button class="set-rst-btn" data-group="links">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>Normal Width</label><input type="range" id="set-link-normalWidth" min="0.1" max="8" step="0.1"><span class="set-val"></span></div>
              <div class="set-row"><label>Highlight Width</label><input type="range" id="set-link-highlightWidth" min="1" max="12" step="0.5"><span class="set-val"></span></div>
              <div class="set-row"><label>Opacity</label><input type="range" id="set-link-opacity" min="0.1" max="1" step="0.05"><span class="set-val"></span></div>
              <div class="set-row"><label>Curvature</label><input type="range" id="set-link-curvatureBase" min="0" max="0.5" step="0.01"><span class="set-val"></span></div>
              <div class="set-row"><label>Normal Alpha</label><input type="range" id="set-link-normalAlpha" min="0.05" max="1" step="0.05"><span class="set-val"></span></div>
              <div class="set-row"><label>Highlight Color</label><input type="color" id="set-link-highlightColor"><span class="set-val"></span></div>
            </div>

            <!-- PARTICLES -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> PARTICLES <button class="set-rst-btn" data-group="particles">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>Normal Count</label><input type="range" id="set-part-normalCount" min="0" max="20" step="1"><span class="set-val"></span></div>
              <div class="set-row"><label>Highlight Count</label><input type="range" id="set-part-highlightCount" min="0" max="30" step="1"><span class="set-val"></span></div>
              <div class="set-row"><label>Normal Width</label><input type="range" id="set-part-normalWidth" min="0.5" max="6" step="0.1"><span class="set-val"></span></div>
              <div class="set-row"><label>Highlight Width</label><input type="range" id="set-part-highlightWidth" min="1" max="10" step="0.5"><span class="set-val"></span></div>
              <div class="set-row"><label>Normal Speed</label><input type="range" id="set-part-normalSpeed" min="0.001" max="0.02" step="0.001"><span class="set-val"></span></div>
              <div class="set-row"><label>Highlight Speed</label><input type="range" id="set-part-highlightSpeed" min="0.001" max="0.02" step="0.001"><span class="set-val"></span></div>
              <div class="set-row"><label>Highlight Color</label><input type="color" id="set-part-highlightColor"><span class="set-val"></span></div>
            </div>

            <!-- LAYER COLORS -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> LAYER COLORS <button class="set-rst-btn" data-group="colors">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>FE (Frontend)</label><input type="color" id="set-color-FE"><span class="set-val"></span></div>
              <div class="set-row"><label>BE (Backend)</label><input type="color" id="set-color-BE"><span class="set-val"></span></div>
              <div class="set-row"><label>DB (Database)</label><input type="color" id="set-color-DB"><span class="set-val"></span></div>
              <div class="set-row"><label>API</label><input type="color" id="set-color-API"><span class="set-val"></span></div>
              <div class="set-row"><label>CONFIG</label><input type="color" id="set-color-CONFIG"><span class="set-val"></span></div>
              <div class="set-row"><label>UTIL</label><input type="color" id="set-color-UTIL"><span class="set-val"></span></div>
            </div>

            <!-- SCENE -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> SCENE <button class="set-rst-btn" data-group="scene">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>Background</label><input type="color" id="set-scene-background"><span class="set-val"></span></div>
              <div class="set-row"><label>Ambient Light</label><input type="range" id="set-scene-ambientIntensity" min="0" max="20" step="0.5"><span class="set-val"></span></div>
              <div class="set-row"><label>Point Light</label><input type="range" id="set-scene-pointIntensity" min="0" max="10" step="0.5"><span class="set-val"></span></div>
              <div class="set-row"><label>Light Distance</label><input type="range" id="set-scene-pointDistance" min="1000" max="20000" step="500"><span class="set-val"></span></div>
              <div class="set-row"><label>Fog Density</label><input type="range" id="set-scene-fogDensity" min="0" max="0.001" step="0.00001"><span class="set-val"></span></div>
              <div class="set-row"><label>Scanline</label><input type="range" id="set-scene-scanlineOpacity" min="0" max="1" step="0.05"><span class="set-val"></span></div>
            </div>

            <!-- CAMERA -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> CAMERA <button class="set-rst-btn" data-group="camera">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>Initial Distance</label><input type="range" id="set-cam-initialZ" min="500" max="8000" step="100"><span class="set-val"></span></div>
              <div class="set-row"><label>Rotate Speed</label><input type="range" id="set-cam-autoRotateSpeed" min="0.0001" max="0.003" step="0.0001"><span class="set-val"></span></div>
              <div class="set-row"><label>Orbit Radius</label><input type="range" id="set-cam-autoRotateRadius" min="400" max="5000" step="100"><span class="set-val"></span></div>
              <div class="set-row"><label>Reset Distance</label><input type="range" id="set-cam-resetDistance" min="500" max="5000" step="100"><span class="set-val"></span></div>
            </div>

            <!-- FILE TREE -->
            <div class="set-section-hdr"><span class="set-arrow open">&#9654;</span> FILE TREE <button class="set-rst-btn" data-group="fileTree">RST</button></div>
            <div class="set-section-body">
              <div class="set-row"><label>Panel Width</label><input type="range" id="set-ft-panelWidth" min="200" max="500" step="10"><span class="set-val"></span></div>
              <div class="set-row"><label>Font Size</label><input type="range" id="set-ft-fontSize" min="9" max="14" step="1"><span class="set-val"></span></div>
              <div class="set-row"><label>Indent Size</label><input type="range" id="set-ft-indentSize" min="8" max="24" step="2"><span class="set-val"></span></div>
              <div class="set-row"><label>Pulse Duration</label><input type="range" id="set-ft-pulseDuration" min="2" max="10" step="1"><span class="set-val"></span></div>
              <div class="set-row set-row-checkbox"><label>Show Line Count</label><input type="checkbox" id="set-ft-showLineCount"><span class="set-val"></span></div>
              <div class="set-row set-row-checkbox"><label>Show Deps</label><input type="checkbox" id="set-ft-showDeps"><span class="set-val"></span></div>
              <div class="set-row set-row-checkbox"><label>Show Risk</label><input type="checkbox" id="set-ft-showRisk"><span class="set-val"></span></div>
              <div class="set-row set-row-checkbox"><label>Auto-scroll</label><input type="checkbox" id="set-ft-autoScrollOnChange"><span class="set-val"></span></div>
              <div class="set-row set-row-checkbox"><label>Compact Mode</label><input type="checkbox" id="set-ft-compactMode"><span class="set-val"></span></div>
            </div>

            <!-- ADVANCED (collapsed by default) -->
            <div class="set-section-hdr"><span class="set-arrow">&#9654;</span> ADVANCED <button class="set-rst-btn" data-group="physics">RST</button></div>
            <div class="set-section-body collapsed">
              <div class="set-sub-title">PHYSICS</div>
              <div class="set-row"><label>Alpha Decay</label><input type="range" id="set-phys-alphaDecay" min="0.001" max="0.05" step="0.001"><span class="set-val"></span></div>
              <div class="set-row"><label>Velocity Decay</label><input type="range" id="set-phys-velocityDecay" min="0.05" max="0.8" step="0.01"><span class="set-val"></span></div>
              <div class="set-row"><label>Charge Strength</label><input type="range" id="set-phys-chargeStrength" min="-3000" max="-100" step="50"><span class="set-val"></span></div>
              <div class="set-row"><label>Same-Layer Dist</label><input type="range" id="set-phys-sameLayerDistance" min="50" max="800" step="10"><span class="set-val"></span></div>
              <div class="set-row"><label>Cross-Layer Dist</label><input type="range" id="set-phys-crossLayerDistance" min="200" max="3000" step="50"><span class="set-val"></span></div>
              <div class="set-row"><label>Cluster Force</label><input type="range" id="set-phys-clusterStrength" min="0" max="0.1" step="0.001"><span class="set-val"></span></div>
              <div class="set-sub-title">ANIMATION</div>
              <div class="set-row"><label>Birth Duration</label><input type="range" id="set-anim-birthDuration" min="500" max="5000" step="100"><span class="set-val"></span></div>
              <div class="set-row"><label>Birth Scale</label><input type="range" id="set-anim-birthScale" min="1" max="8" step="0.5"><span class="set-val"></span></div>
              <div class="set-row"><label>Spawn X</label><input type="range" id="set-anim-spawnX" min="-10000" max="10000" step="500"><span class="set-val"></span></div>
              <div class="set-row"><label>Spawn Y</label><input type="range" id="set-anim-spawnY" min="-10000" max="10000" step="500"><span class="set-val"></span></div>
              <div class="set-row"><label>Spawn Z</label><input type="range" id="set-anim-spawnZ" min="-10000" max="10000" step="500"><span class="set-val"></span></div>
              <div class="set-sub-title">ARROWS</div>
              <div class="set-row"><label>Arrow Length</label><input type="range" id="set-arrow-length" min="0" max="20" step="1"><span class="set-val"></span></div>
              <div class="set-row"><label>Arrow Position</label><input type="range" id="set-arrow-position" min="0" max="1" step="0.05"><span class="set-val"></span></div>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <!-- Hub Files Drawer -->
  <div id="hub-drawer" class="collapsed">
    <button id="btn-toggle-hub">&#9650; HIGH VALUE TARGETS</button>
    <div id="hub-content"></div>
  </div>

  <!-- Context Menu (right-click) -->
  <div id="context-menu" class="hidden">
    <div class="ctx-item" data-action="focus">FOCUS ON NODE</div>
    <div class="ctx-item" data-action="impact">ANALYZE IMPACT</div>
    <div class="ctx-item" data-action="ai">AI ANALYZE</div>
    <div class="ctx-item" data-action="code">VIEW CODE</div>
    <div class="ctx-item" data-action="simulate">SIMULATE DELETE</div>
    <div class="ctx-item" data-action="path-from">PATH FROM HERE</div>
    <div class="ctx-item" data-action="path-to">PATH TO HERE</div>
    <div class="ctx-divider"></div>
    <div class="ctx-item" data-action="isolate">ISOLATE CLUSTER</div>
    <div class="ctx-item" data-action="hide">HIDE NODE</div>
  </div>

  <!-- Stats Overlay -->
  <div id="stats-overlay" class="hidden">
    <div class="stats-panel">
      <div class="stats-header">
        <h3>CODEBASE ANALYTICS</h3>
        <button id="btn-close-stats">&times;</button>
      </div>
      <div class="stats-body">
        <div class="stats-row">
          <div class="stats-card">
            <h4>LAYER DISTRIBUTION</h4>
            <canvas id="chart-layers" width="280" height="180"></canvas>
          </div>
          <div class="stats-card">
            <h4>RISK DISTRIBUTION</h4>
            <canvas id="chart-risk" width="280" height="180"></canvas>
          </div>
        </div>
        <div class="stats-row">
          <div class="stats-card">
            <h4>TOP 10 LARGEST FILES</h4>
            <canvas id="chart-lines" width="280" height="180"></canvas>
          </div>
          <div class="stats-card">
            <h4>DEPENDENCY HOTSPOTS</h4>
            <canvas id="chart-deps" width="280" height="180"></canvas>
          </div>
        </div>
        <div class="stats-summary" id="stats-summary"></div>
      </div>
    </div>
  </div>

  <!-- Keyboard Shortcuts Overlay -->
  <div id="shortcuts-overlay" class="hidden">
    <div class="shortcuts-panel">
      <h3>KEYBOARD SHORTCUTS</h3>
      <div class="shortcut-row"><kbd>R</kbd><span>Reset view</span></div>
      <div class="shortcut-row"><kbd>A</kbd><span>Toggle auto-rotate</span></div>
      <div class="shortcut-row"><kbd>P</kbd><span>Path mode</span></div>
      <div class="shortcut-row"><kbd>F</kbd><span>Focus on selected</span></div>
      <div class="shortcut-row"><kbd>C</kbd><span>View code</span></div>
      <div class="shortcut-row"><kbd>S</kbd><span>Simulate deletion</span></div>
      <div class="shortcut-row"><kbd>T</kbd><span>Toggle file tree</span></div>
      <div class="shortcut-row"><kbd>D</kbd><span>Detect cycles</span></div>
      <div class="shortcut-row"><kbd>?</kbd><span>Show shortcuts</span></div>
      <div class="shortcut-row"><kbd>Esc</kbd><span>Deselect / Close</span></div>
      <div class="shortcut-row"><kbd>1-6</kbd><span>Toggle layers (FE/BE/DB/API/CFG/UTIL)</span></div>
      <button id="btn-close-shortcuts">CLOSE</button>
    </div>
  </div>

  <!-- Cycles Overlay -->
  <div id="cycles-overlay" class="hidden">
    <div class="cycles-panel">
      <div class="cycles-header">
        <h3>CIRCULAR DEPENDENCIES</h3>
        <button id="btn-close-cycles">&times;</button>
      </div>
      <div id="cycles-content">
        <div class="loading"><div class="spinner"></div>SCANNING...</div>
      </div>
    </div>
  </div>

  <!-- Project Switch Modal -->
  <div id="project-modal" class="hidden">
    <div class="project-modal-panel">
      <h3>SWITCH PROJECT</h3>
      <div class="browse-path-bar">
        <button id="btn-browse-up" class="browse-nav-btn" title="Go up">&uarr;</button>
        <span id="browse-current-path" class="browse-path-text">Loading...</span>
      </div>
      <div id="browse-dir-list" class="browse-dir-list"></div>
      <div id="project-detect-info"></div>
      <div class="project-modal-actions">
        <button id="btn-project-load">SELECT THIS FOLDER</button>
        <button id="btn-project-cancel">CANCEL</button>
      </div>
    </div>
  </div>

  <!-- License Modal -->
  <div id="license-modal" class="hidden">
    <div class="license-modal-panel">
      <h3>ACTIVATE LICENSE</h3>
      <p class="license-modal-desc">Enter your SYKE API key to unlock Pro features.</p>
      <div class="license-input-row">
        <input type="text" id="license-key-input" placeholder="SYKE-XXXX-XXXX-XXXX-XXXX" spellcheck="false" autocomplete="off">
      </div>
      <div id="license-modal-status"></div>
      <div class="license-modal-actions">
        <button id="btn-license-activate">ACTIVATE</button>
        <button id="btn-license-deactivate" class="license-deactivate-btn">REMOVE KEY</button>
        <button id="btn-license-cancel">CANCEL</button>
      </div>
      <p class="license-modal-hint">Get your key at <a href="https://syke.cloud/dashboard" target="_blank">syke.cloud/dashboard</a></p>
    </div>
  </div>

  <!-- AI Keys Modal -->
  <div id="ai-keys-modal" class="hidden">
    <div class="ai-keys-modal-panel">
      <h3>AI PROVIDER KEYS</h3>
      <p class="ai-keys-modal-desc">Configure API keys to enable AI analysis.</p>
      <div class="ai-keys-rows">
        <div class="ai-key-row" data-provider="gemini">
          <span class="ai-key-label">GEMINI</span>
          <input type="password" class="ai-key-input" placeholder="AIzaSy..." spellcheck="false" autocomplete="off">
          <button class="ai-key-set-btn">SET</button>
          <span class="ai-key-status"></span>
          <button class="ai-key-remove-btn hidden">REMOVE</button>
        </div>
        <div class="ai-key-row" data-provider="openai">
          <span class="ai-key-label">OPENAI</span>
          <input type="password" class="ai-key-input" placeholder="sk-..." spellcheck="false" autocomplete="off">
          <button class="ai-key-set-btn">SET</button>
          <span class="ai-key-status"></span>
          <button class="ai-key-remove-btn hidden">REMOVE</button>
        </div>
        <div class="ai-key-row" data-provider="anthropic">
          <span class="ai-key-label">ANTHROPIC</span>
          <input type="password" class="ai-key-input" placeholder="sk-ant-..." spellcheck="false" autocomplete="off">
          <button class="ai-key-set-btn">SET</button>
          <span class="ai-key-status"></span>
          <button class="ai-key-remove-btn hidden">REMOVE</button>
        </div>
      </div>
      <div id="ai-keys-active" class="ai-keys-active"></div>
      <div class="ai-keys-modal-actions">
        <button id="btn-ai-keys-close">CLOSE</button>
      </div>
      <p class="ai-keys-priority">Priority: Gemini &gt; OpenAI &gt; Anthropic</p>
    </div>
  </div>

  <!-- Bottom status bar -->
  <div id="bottom-bar">
    <span id="bottom-info">SYKE v--- · ---</span>
  </div>

  <script src="app.js"></script>
</body>
</html>
